# {{ config.name }} - GCP Deployment
# Generated by: bedsheet deploy --target gcp

.PHONY: help setup test deploy logs clean

PROJECT = {{ gcp.project or 'YOUR_PROJECT_ID' }}
REGION = {{ gcp.region or 'us-central1' }}
SERVICE = {{ project_name }}

help:
	@echo "{{ config.name }} - GCP Deployment"
	@echo ""
	@echo "Commands:"
	@echo "  make setup   - Install dependencies"
	@echo "  make test    - Test agent locally"
	@echo "  make deploy  - Deploy to Cloud Run"
	@echo "  make logs    - View Cloud Run logs"
	@echo "  make clean   - Clean build artifacts"

setup:
	pip install -r requirements.txt

test:
	python -m google.adk.cli run agent.agent

deploy:
	gcloud builds submit --config cloudbuild.yaml --project $(PROJECT)

logs:
	gcloud run logs read $(SERVICE) --region $(REGION) --project $(PROJECT)

clean:
	rm -rf __pycache__ agent/__pycache__
