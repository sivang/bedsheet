# {{ config.name }} - Terraform Variables
# Generated by: bedsheet deploy --target gcp
#
# Terraform manages: Service Account, Artifact Registry, Logging Metrics
# Cloud Build manages: IAM roles, Docker build, Cloud Run deployment

# =============================================================================
# REQUIRED VARIABLES
# =============================================================================

variable "project_id" {
  description = "GCP Project ID where resources will be created"
  type        = string
  {% if gcp.project and gcp.project != 'your-project-id' %}
  default     = "{{ gcp.project }}"
  {% endif %}

  validation {
    condition     = can(regex("^[a-z][a-z0-9-]{4,28}[a-z0-9]$", var.project_id))
    error_message = "Project ID must be 6-30 characters, start with a letter, and contain only lowercase letters, numbers, and hyphens."
  }
}

# =============================================================================
# DEPLOYMENT CONFIGURATION
# =============================================================================

variable "region" {
  description = "GCP Region for resource deployment"
  type        = string
  default     = "{{ gcp.region or 'europe-west1' }}"
}

variable "environment" {
  description = "Deployment environment (dev, staging, prod)"
  type        = string
  default     = "dev"

  validation {
    condition     = contains(["dev", "staging", "prod"], var.environment)
    error_message = "Environment must be one of: dev, staging, prod."
  }
}
