# {{ config.name }} - AWS Deployment
# Generated by: bedsheet deploy --target aws

.PHONY: help setup synth deploy destroy

REGION = {{ aws.region or 'us-east-1' }}

help:
	@echo "{{ config.name }} - AWS Deployment"
	@echo ""
	@echo "Commands:"
	@echo "  make setup   - Install CDK dependencies"
	@echo "  make synth   - Synthesize CloudFormation template"
	@echo "  make deploy  - Deploy to AWS"
	@echo "  make destroy - Destroy all resources"

setup:
	pip install -r requirements.txt
	cd lambda && pip install -r requirements.txt -t .

synth:
	cdk synth

deploy:
	cdk deploy --require-approval never

destroy:
	cdk destroy --force
