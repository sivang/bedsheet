# {{ config.name }} - OpenAPI Schema for Bedrock Agent
# Generated by: bedsheet deploy --target aws
openapi: "3.0.0"
info:
  title: "{{ agent.name }} Actions"
  version: "{{ config.version or '1.0.0' }}"
  description: "{{ agent.description or 'Bedrock Agent action group API' }}"

paths:
{% for tool in agent.tools %}
  /{{ tool.name }}:
    post:
      summary: "{{ tool.name }}"
      description: "{{ tool.description }}"
      operationId: "{{ tool.name }}"
      {% if tool.parameters %}
      parameters:
        {% for param in tool.parameters %}
        - name: "{{ param.name }}"
          in: query
          description: "{{ param.description or param.name }}"
          required: {{ 'true' if param.required else 'false' }}
          schema:
            type: "{{ param.json_type or 'string' }}"
        {% endfor %}
      {% endif %}
      responses:
        "200":
          description: "Successful response"
          content:
            application/json:
              schema:
                type: object
                properties:
                  result:
                    type: string
{% endfor %}
{% if not agent.tools %}
  /health:
    get:
      summary: "Health check"
      operationId: "health"
      responses:
        "200":
          description: "OK"
{% endif %}
