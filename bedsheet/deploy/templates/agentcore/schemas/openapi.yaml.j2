# OpenAPI Schema for AgentCore Gateway Tools
# Generated by Bedsheet v0.4.7
# Project: {{ config.name }}

openapi: "3.0.3"
info:
  title: "{{ config.name }} Tools API"
  description: "API schema for AgentCore Gateway tool integration"
  version: "1.0.0"

paths:
  /health:
    get:
      operationId: healthCheck
      summary: Health check endpoint
      responses:
        "200":
          description: Service is healthy
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    enum: [healthy]

{% for tool in agent.tools %}
  /{{ tool.name }}:
    post:
      operationId: {{ tool.name | replace('-', '_') }}
      summary: {{ tool.description }}
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              {% if tool.parameters_schema.get('properties') %}
              properties:
                {% for param_name, param_schema in tool.parameters_schema.get('properties', {}).items() %}
                {{ param_name }}:
                  type: {{ param_schema.get('type', 'string') }}
                  {% if param_schema.get('description') %}
                  description: "{{ param_schema.get('description') }}"
                  {% endif %}
                  {% if param_schema.get('default') is not none %}
                  default: {{ param_schema.get('default') | tojson }}
                  {% endif %}
                {% endfor %}
              {% endif %}
              {% if tool.parameters_schema.get('required') %}
              required:
                {% for req in tool.parameters_schema.get('required', []) %}
                - {{ req }}
                {% endfor %}
              {% endif %}
      responses:
        "200":
          description: Tool executed successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  result:
                    type: object
                  tool_name:
                    type: string
        "500":
          description: Tool execution error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
{% endfor %}
